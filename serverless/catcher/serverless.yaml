service:
  name: ${env:SERVICE_NAME}

provider:
  name: aws
  runtime: nodejs12.x
  stage: ${env:STAGE}
  region: ${env:REGION}
  httpApi:
    payload: '2.0'

plugins:
  - serverless-dotenv-plugin
  - serverless-webpack
  - serverless-offline

custom:
  dotenv:
    logging: false
  serverless-offline:
    httpPort: ${env:LOCAL_PORT}
    noPrependStageInUrl: true
  webpack:
    webpackConfig: webpackConfig.js
    packager: yarn

package:
  individually: true

functions:
  catcher:
    handler: handler.catcher
    events:
      - httpApi:
          method: GET
          path: /
      - httpApi:
          method: GET
          path: /{proxy+}